<!-- input
userData (list): userid (int), name (str)
tabList  (list of list):
         list item contains: name (str), selected (bool)
cardList (list of list):
         list item contains: userid (int, unique), name (str), desc (str), reviewList (list of str), skillList (list of str)
-->

{% extends "../base.html" %}

{% block title %}Home{% endblock title %}

{% block content %}
  <!-- tabs header -->
  <div class="w3-bar w3-dark-grey">
    {% for tab in tabList %} 
    <!-- (Alan) Output click choice back to django and reload same page with that choice. Default choice is the first one. -->
    <a class="w3-bar-item w3-button w3-mobile {{ tab.selected|yesno:'w3-teal, '}}" style="width:33%" href="javascript:void(0)"> {{tab.name}}</a>
  </div>

  <!-- cards -->
  {% for card in cardList %} <!-- cardList -->
  <div id="card{{card.userid}}" class="w3-card w3-center panel">

    <header class="w3-container w3-teal">
      <div class="w3-row">
        <div class="w3-col s1 w3-center">
          <img src="../img/profilepic/{{card.userid}}" alt="Avatar" class="w3-circle w3-margin w3-left" style="width: 75%;">
        </div>
        <div class="which3-col s9 w3-section w3-container w3-left-align">
          <h5>{{card.name}}</h5>
        </div>
      </div>
    </header>
    <div class="w3-cell-row w3-margin">
      <div class="w3-container w3-cell w3-left-align" style="width:60%">
        <p>{{card.desc}}</p>
      </div>
      <div class="w3-container w3-cell w3-left-align" style="line-height: 50%">
        <p style="font-weight: bold;">Reviews</p>
        {% for review in card.reviewList %} <!-- card.reviewList -->
          <p>{{review}}</p>
        {% end for %} <!-- end card.reviewList -->
      </div>
    </div>

    <div class="w3-cell-row w3-margin-left">
      {% for skill in card.skillList %} <!-- card.skillList -->
      <div class="w3-container w3-cell w3-left">
        <p style="font-weight: bold"> {{skill}} </p>
      </div>
      {%end for%} <!-- end card.skillList -->

      <div>
        <button onclick="$('#card{{card.userid}} w3-modal').style.display='block'" class="btn btn-default btn-wide btn-inverse w3-right" style="margin-right: 40px; margin-bottom: 10px">Book</button>
        <div class="w3-modal">
          <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:600px">
            <div class="w3-center"><br>
              <span onclick="$('#card{{card.userid}} w3-modal').style.display='none'" class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal">&times;</span>
            </div>
            <!-- (Alan) form, need to see how form outputs back to django -->
            <form class="w3-container" action="/action_page.php">
              <div class="w3-section">
                <label><b>Input 1</b></label>
                <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Enter Username" name="usrname" required>
                <label><b>Input 2</b></label>
                <input class="w3-input w3-border" type="password" placeholder="Enter Password" name="psw" required>
                <div id="slider"></div>
                <button class="w3-button w3-block w3-green w3-section w3-padding" type="submit">Submit</button>
              </div>
            </form>
            <div class="w3-container w3-border-top w3-padding-16 w3-light-grey">
              <button onclick="$("#div1 w3-modal").style.display='none'" type="button" class="w3-button w3-red">Cancel</button>
            </div>
          </div>
        </div>
      </div>

    </div>
    

  </div>
  {% end for %} <!-- end cardList -->

{% endblock content %}

{% block jsmore %}
  <script>
      var $slider = $("#slider");
      if ($slider.length > 0) {
        $slider.slider({
          min: 1,
          max: 5,
          value: 3,
          orientation: "horizontal",
          range: "min"
        }).addSliderSegments($slider.slider("option").max);
      }
</script>
{% endblock jsmore %}